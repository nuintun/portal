!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define("portal",n):e.Portal=n()}(this,function(){"use strict";function e(e){return String(e).replace(/[&<>\'\"]/g,function(e){return t[e]})}function n(e){return e.replace(c,"\\$&")}function r(e){var r=this;e=e||{},r.open=new RegExp(n(e.open||"<%"),"g"),r.close=new RegExp(n(e.close||"%>"),"g"),r.helpers={}}var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#x22;","'":"&#x27;"},c=/[\[\]\\.^|()*+$:?!-]/g;return r.prototype={helpers:{},compile:function(r){function t(n){return f.call(n,n,e,p.helpers)}var c=1,p=this,o=+new Date,u="__LINE"+o,l="__DATA"+o,i="__OUTPUT"+o,a="__ESCAPE"+o,s="__HELPERS"+o,g="'use strict';\n\nvar "+u+" = 1;\nvar "+i+" = '';\n\ntry {\n  "+i+" += '"+String(r).replace(p.open,"").replace(p.close,"").replace(/'(?![^\x11\x13]+?\x13)/g,"\\x27").replace(/^\s*|\s*$/g,"").replace(/\n|\r\n/g,function(){return"';\n  "+u+" = "+ ++c+";\n  "+i+" += '\\n"}).replace(/\x11==\s*(.+?)\s*\x13/g,"' + ($1) + '").replace(/\x11=\s*(.+?)\s*\x13/g,"' + "+a+"($1) + '").replace(/(^|[^\w\u00c0-\uFFFF_]):(?=\w)/g,"$1"+s+".").replace(/(^|[^\w\u00c0-\uFFFF_]):(?=\[)/g,"$1"+s).replace(/(^|[^\w\u00c0-\uFFFF_])@(?=\w)/g,"$1"+l+".").replace(/(^|[^\w\u00c0-\uFFFF_])@(?=\[)/g,"$1"+l).replace(/\x11\s*(.+?)\s*\x13/g,"';\n  $1\n  "+i+" += '")+"';\n\n  return "+i+";\n} catch (e) {\n  throw 'TemplateError: ' + e + ' (at line ' + "+u+" + ')';\n}",f=new Function(l,a,s,g.replace(new RegExp(" *"+n(i+" += '';")+"\n","g"),""));return t.toString=function(){return f.toString()},{render:t}},addHelper:function(e,n){return this.helpers[e]=n,this},removeHelper:function(e){return delete this.helpers[e],this}},r});
//# sourceMappingURL=portal.js.map