!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define("portal",n):e.Portal=n()}(this,function(){"use strict";function e(e){return e.replace(t,"\\$&")}function n(n,r){var t=this;t.open=new RegExp(e(n||"<%"),"g"),t.close=new RegExp(e(r||"%>"),"g"),t.helpers={}}var r=Date.now||function(){return+new Date},t=/[\[\]\\.^|()*+$:?!-]/g,p=/\n|\r\n/g,u=/^\s*|\s*$/g,o=/\x11\s*(.+?)\s*\x13/g,c=/\x11=\s*(.+?)\s*\x13/g,l=/\x11==\s*(.+?)\s*\x13/g,a=/'(?![^\x11\x13]+?\x13)/g,i=/(^|[^\w\u00c0-\uFFFF_]):(?=\w)/g,s=/(^|[^\w\u00c0-\uFFFF_]):(?=\[)/g,f=/(^|[^\w\u00c0-\uFFFF_])@(?=\w)/g,g=/(^|[^\w\u00c0-\uFFFF_])@(?=\[)/g;return n.prototype={helpers:{},compile:function(n){if(!n&&""!==n||"string"!=typeof n.valueOf())throw TypeError("TemplateError: view must be a string");var t=1,h=this,F=r(),w="__CONTEXT"+F,x="__HELPERS"+F,d="__DATA"+F,$="'use strict';\n\ntry {\n  var "+w+" = this;\n  var "+d+" = "+w+".data;\n  var "+x+" = "+w+".helpers;\n\n  "+w+".line = 1;\n  "+w+".output += '"+n.replace(h.open,"").replace(h.close,"").replace(a,"\\x27").replace(u,"").replace(p,function(){return"';\n  "+w+".line = "+ ++t+";\n  "+w+".output += '\\n"}).replace(l,"' + ($1) + '").replace(c,"' + "+w+".escapeHTML($1) + '").replace(i,"$1"+x+".").replace(s,"$1"+x).replace(f,"$1"+d+".").replace(g,"$1"+d).replace(o,"';\n  $1\n  "+w+".output += '")+"';\n\n  return "+w+".output;\n} catch (e) {\n  throw 'TemplateError: ' + e + ' (at ' + ' line ' + "+w+".line + ')';\n}",_=new Function($.replace(new RegExp(e("\n"+w+".output += '';")+"\n","g"),"\n"));return{compiler:_,render:function(e){return _.call({line:0,output:"",data:e,helpers:h.helpers,escapeHTML:escapeHTML})}}},addHelper:function(e,n){return this.helpers[e]=n,this},removeHelper:function(e){return delete this.helpers[e],this}},n});
//# sourceMappingURL=portal.js.map