!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define("portal",n):e.Portal=n()}(this,function(){"use strict";function e(e){return String(e).replace(/[&<>\'\"]/g,function(e){return t[e]})}function n(e){return e.replace(p,"\\$&")}function r(e){var r=this;e=e||{},r.open=new RegExp(n(e.open||"<%"),"g"),r.close=new RegExp(n(e.close||"%>"),"g"),r.helpers={}}var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#x22;","'":"&#x27;"},c=Date.now||function(){return+new Date},p=/[\[\]\\.^|()*+$:?!-]/g,a=/\n|\r\n/g,o=/^\s*|\s*$/g,u=/\x11\s*(.+?)\s*\x13/g,l=/\x11=\s*(.+?)\s*\x13/g,i=/\x11==\s*(.+?)\s*\x13/g,s=/'(?![^\x11\x13]+?\x13)/g,g=/(^|[^\w\u00c0-\uFFFF_]):(?=\w)/g,f=/(^|[^\w\u00c0-\uFFFF_]):(?=\[)/g,h=/(^|[^\w\u00c0-\uFFFF_])@(?=\w)/g,x=/(^|[^\w\u00c0-\uFFFF_])@(?=\[)/g;return r.prototype={helpers:{},compile:function(r){function t(n){return m.call({data:n,helpers:F.helpers,escapeHTML:e})}var p=1,F=this,d=c(),_="__LINE"+d,w="__DATA"+d,$="__OUTPUT"+d,v="__CONTEXT"+d,E="__HELPERS"+d,T="'use strict';\n\nvar "+_+" = 1;\nvar "+$+" = '';\nvar "+v+" = this;\nvar "+w+" = "+v+".data;\nvar "+E+" = "+v+".helpers;\n\ntry {\n  "+$+" += '"+String(r).replace(F.open,"").replace(F.close,"").replace(s,"\\x27").replace(o,"").replace(a,function(){return"';\n  "+_+" = "+ ++p+";\n  "+$+" += '\\n"}).replace(i,"' + ($1) + '").replace(l,"' + "+v+".escapeHTML($1) + '").replace(g,"$1"+E+".").replace(f,"$1"+E).replace(h,"$1"+w+".").replace(x,"$1"+w).replace(u,"';\n  $1\n  "+$+" += '")+"';\n\n  return "+$+";\n} catch (e) {\n  throw 'TemplateError: ' + e + ' (at line ' + "+_+" + ')';\n}",m=new Function(T.replace(new RegExp(" *"+n($+" += '';")+"\n","g"),""));return t.toString=function(){return m.toString()},{render:t}},addHelper:function(e,n){return this.helpers[e]=n,this},removeHelper:function(e){return delete this.helpers[e],this}},r});
//# sourceMappingURL=portal.js.map